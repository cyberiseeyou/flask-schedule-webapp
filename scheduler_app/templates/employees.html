{% extends "base.html" %}

{% block title %}Employee Management - Product Connections Scheduler{% endblock %}
{% block page_title %}Employee Management{% endblock %}

{% block extra_head %}
<style>
        .employee-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }
        
        .employee-card {
            border: 1px solid #ddd;
            border-radius: 8px;
            padding: 20px;
            background: #f9f9f9;
        }
        
        .employee-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }
        
        .employee-name {
            font-size: 18px;
            font-weight: bold;
            margin: 0;
        }
        
        .employee-badge {
            color: white;
            padding: 4px 8px;
            border-radius: 12px;
            font-size: 12px;
            font-weight: bold;
            margin-right: 5px;
            display: inline-block;
        }
        
        .badge-lead-event-specialist {
            background: #FF69B4; /* Hot Pink */
        }
        
        .badge-club-supervisor {
            background: #00FFFF; /* Cyan */
            color: #000; /* Black text for better visibility on cyan */
        }
        
        .badge-juicer-barista {
            background: #ff9800; /* Orange */
        }
        
        .badge-event-specialist {
            background: #28a745; /* Green */
        }
        
        .badge-ab-trained {
            background: #007bff; /* Blue */
        }
        
        .badge-inactive {
            background: #dc3545; /* Red */
        }
        
        .availability-grid {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            gap: 5px;
            margin-bottom: 15px;
        }
        
        .day-cell {
            text-align: center;
            padding: 8px;
            border-radius: 4px;
            font-size: 12px;
            font-weight: bold;
        }
        
        .day-available {
            background: #28a745;
            color: white;
        }
        
        .day-unavailable {
            background: #dc3545;
            color: white;
        }
        
        .day-header {
            background: #6c757d;
            color: white;
            font-weight: bold;
        }
        
        .employee-actions {
            display: flex;
            gap: 10px;
        }
        
        .btn-small {
            padding: 6px 12px;
            font-size: 12px;
        }
        
        .add-employee-section {
            background: #e9ecef;
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 20px;
        }
        
        .form-row {
            display: flex;
            gap: 15px;
            margin-bottom: 15px;
            align-items: center;
        }
        
        .form-group {
            flex: 1;
        }
        
        .form-group label {
            display: block;
            margin-bottom: 5px;
            font-weight: bold;
        }
        
        .form-group input, .form-group select {
            width: 100%;
            padding: 8px;
            border: 1px solid #ccc;
            border-radius: 4px;
        }
        
        .checkbox-group {
            display: flex;
            gap: 10px;
            margin-bottom: 15px;
        }
        
        .checkbox-group input[type="checkbox"] {
            width: auto;
            margin-right: 5px;
        }
        
        
        .nav-links {
            margin-bottom: 20px;
        }
        
        .nav-links a {
            margin-right: 15px;
            color: #007bff;
            text-decoration: none;
        }
        
        .nav-links a:hover {
            text-decoration: underline;
        }
        
        .time-off-request {
            background: #f8f9fa;
            border: 1px solid #dee2e6;
            border-radius: 6px;
            padding: 15px;
            margin-bottom: 10px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .time-off-info {
            flex: 1;
        }
        
        .time-off-dates {
            font-weight: bold;
            color: #495057;
        }
        
        .time-off-employee {
            color: #007bff;
            font-size: 0.9rem;
        }
        
        .time-off-reason {
            color: #6c757d;
            font-size: 0.85rem;
            font-style: italic;
        }
        
        .time-off-actions {
            display: flex;
            gap: 10px;
        }
        
        .btn-delete {
            background-color: #dc3545;
            color: white;
            border: none;
            padding: 5px 10px;
            border-radius: 3px;
            cursor: pointer;
            font-size: 0.8rem;
        }
        
        .btn-delete:hover {
            background-color: #c82333;
        }
    </style>
{% endblock %}

{% block content %}
    <!-- Page Header -->
    <div class="page-header" style="text-align: center; margin-bottom: var(--spacing-lg); padding-bottom: var(--spacing-md); border-bottom: 2px solid var(--pc-light-blue);">
        <h1 class="page-title" style="font-size: var(--font-size-h1); font-weight: var(--font-weight-heading); color: var(--pc-navy); margin: 0; letter-spacing: -0.02em;">Employee Management</h1>
    </div>
        
        <!-- Add Employee Section -->
        <div class="add-employee-section">
            <h3>Add New Employee</h3>
            <form id="employee-form">
                <div class="form-row">
                    <div class="form-group">
                        <label for="employee-id">Employee ID</label>
                        <input type="text" id="employee-id" placeholder="e.g., US814117">
                    </div>
                    <div class="form-group">
                        <label for="employee-name">Name *</label>
                        <input type="text" id="employee-name" required>
                    </div>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label for="employee-email">Email</label>
                        <input type="email" id="employee-email">
                    </div>
                    <div class="form-group">
                        <label for="employee-phone">Phone</label>
                        <input type="tel" id="employee-phone">
                    </div>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label for="job-title">Job Title *</label>
                        <select id="job-title" required>
                            <option value="Event Specialist">Event Specialist</option>
                            <option value="Lead Event Specialist">Lead Event Specialist</option>
                            <option value="Club Supervisor">Club Supervisor</option>
                            <option value="Juicer Barista">Juicer Barista</option>
                        </select>
                    </div>
                </div>
                
                <div class="checkbox-group">
                    <label><input type="checkbox" id="is-active" checked> Active</label>
                    <label><input type="checkbox" id="adult-beverage-trained"> Adult Beverage Trained</label>
                </div>
                
                <h4>Weekly Availability</h4>
                <div class="availability-grid">
                    <div class="day-cell day-header">Mon</div>
                    <div class="day-cell day-header">Tue</div>
                    <div class="day-cell day-header">Wed</div>
                    <div class="day-cell day-header">Thu</div>
                    <div class="day-cell day-header">Fri</div>
                    <div class="day-cell day-header">Sat</div>
                    <div class="day-cell day-header">Sun</div>
                    
                    <label class="day-cell"><input type="checkbox" id="avail-monday" checked> Available</label>
                    <label class="day-cell"><input type="checkbox" id="avail-tuesday" checked> Available</label>
                    <label class="day-cell"><input type="checkbox" id="avail-wednesday" checked> Available</label>
                    <label class="day-cell"><input type="checkbox" id="avail-thursday" checked> Available</label>
                    <label class="day-cell"><input type="checkbox" id="avail-friday" checked> Available</label>
                    <label class="day-cell"><input type="checkbox" id="avail-saturday" checked> Available</label>
                    <label class="day-cell"><input type="checkbox" id="avail-sunday" checked> Available</label>
                </div>
                
                <button type="submit" class="btn btn-primary">Add Employee</button>
                <button type="reset" class="btn btn-secondary">Reset Form</button>
            </form>
        </div>
        
        <!-- Flash messages -->
        {% with messages = get_flashed_messages(with_categories=true) %}
            {% if messages %}
                <div class="flash-messages">
                    {% for category, message in messages %}
                        <div class="alert alert-{{ category }}">{{ message }}</div>
                    {% endfor %}
                </div>
            {% endif %}
        {% endwith %}
        
        <!-- Time Off Management Section -->
        <div class="add-employee-section">
            <h3>Manage Time Off Requests</h3>
            <form id="time-off-form">
                <div class="form-row">
                    <div class="form-group">
                        <label for="time-off-employee">Employee *</label>
                        <select id="time-off-employee" required>
                            <option value="">Select an employee</option>
                        </select>
                    </div>
                </div>
                
                <div class="form-row">
                    <div class="form-group">
                        <label for="time-off-start-date">Start Date *</label>
                        <input type="date" id="time-off-start-date" required>
                    </div>
                    <div class="form-group">
                        <label for="time-off-end-date">End Date *</label>
                        <input type="date" id="time-off-end-date" required>
                    </div>
                </div>
                
                <div class="form-row">
                    <div class="form-group">
                        <label for="time-off-reason">Reason (Optional)</label>
                        <input type="text" id="time-off-reason" placeholder="e.g., Vacation, Personal, Medical">
                    </div>
                </div>
                
                <button type="submit" class="btn btn-primary">Add Time Off Request</button>
                <button type="reset" class="btn btn-secondary">Reset</button>
            </form>
            
            <!-- Time Off Requests List -->
            <div id="time-off-requests" style="margin-top: 30px;">
                <h4>Current Time Off Requests</h4>
                <div id="time-off-list">
                    <!-- Time off requests will be loaded here -->
                </div>
            </div>
        </div>
        
        <!-- Employees Grid -->
        <div id="employees-grid" class="employee-grid">
            <!-- Employees will be loaded here via JavaScript -->
        </div>
{% endblock %}

{% block scripts %}
<script src="{{ url_for('static', filename='js/employees.js') }}"></script>
{% endblock %}